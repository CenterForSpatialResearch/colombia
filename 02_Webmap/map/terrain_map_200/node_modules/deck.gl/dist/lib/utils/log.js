'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = log;

var _assert = require('assert');

var _assert2 = _interopRequireDefault(_assert);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function log(priority) {
  (0, _assert2.default)(typeof priority === 'number');
  if (priority <= log.priority) {
    var _console;

    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
      args[_key - 1] = arguments[_key];
    }

    (_console = console).debug.apply(_console, args);
  }
} /* eslint-disable no-console */
/* global console, window */


var cache = {};

function once(priority, arg) {
  if (!cache[arg]) {
    for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {
      args[_key2 - 2] = arguments[_key2];
    }

    log.apply(undefined, [priority, arg].concat(args));
  }
  cache[arg] = true;
}

log.priority = 0;
log.log = log;
log.once = once;

// Expose to browser
if (typeof window !== 'undefined') {
  window.deck = window.deck || { log: log };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9saWIvdXRpbHMvbG9nLmpzIl0sIm5hbWVzIjpbImxvZyIsInByaW9yaXR5IiwiYXJncyIsImRlYnVnIiwiY2FjaGUiLCJvbmNlIiwiYXJnIiwid2luZG93IiwiZGVjayJdLCJtYXBwaW5ncyI6Ijs7Ozs7a0JBSXdCQSxHOztBQUZ4Qjs7Ozs7O0FBRWUsU0FBU0EsR0FBVCxDQUFhQyxRQUFiLEVBQWdDO0FBQzdDLHdCQUFPLE9BQU9BLFFBQVAsS0FBb0IsUUFBM0I7QUFDQSxNQUFJQSxZQUFZRCxJQUFJQyxRQUFwQixFQUE4QjtBQUFBOztBQUFBLHNDQUZTQyxJQUVUO0FBRlNBLFVBRVQ7QUFBQTs7QUFDNUIseUJBQVFDLEtBQVIsaUJBQWlCRCxJQUFqQjtBQUNEO0FBQ0YsQyxDQVREO0FBQ0E7OztBQVVBLElBQU1FLFFBQVEsRUFBZDs7QUFFQSxTQUFTQyxJQUFULENBQWNKLFFBQWQsRUFBd0JLLEdBQXhCLEVBQXNDO0FBQ3BDLE1BQUksQ0FBQ0YsTUFBTUUsR0FBTixDQUFMLEVBQWlCO0FBQUEsdUNBRGFKLElBQ2I7QUFEYUEsVUFDYjtBQUFBOztBQUNmRiwwQkFBSUMsUUFBSixFQUFjSyxHQUFkLFNBQXNCSixJQUF0QjtBQUNEO0FBQ0RFLFFBQU1FLEdBQU4sSUFBYSxJQUFiO0FBQ0Q7O0FBRUROLElBQUlDLFFBQUosR0FBZSxDQUFmO0FBQ0FELElBQUlBLEdBQUosR0FBVUEsR0FBVjtBQUNBQSxJQUFJSyxJQUFKLEdBQVdBLElBQVg7O0FBRUE7QUFDQSxJQUFJLE9BQU9FLE1BQVAsS0FBa0IsV0FBdEIsRUFBbUM7QUFDakNBLFNBQU9DLElBQVAsR0FBY0QsT0FBT0MsSUFBUCxJQUFlLEVBQUNSLFFBQUQsRUFBN0I7QUFDRCIsImZpbGUiOiJsb2cuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG4vKiBnbG9iYWwgY29uc29sZSwgd2luZG93ICovXG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGxvZyhwcmlvcml0eSwgLi4uYXJncykge1xuICBhc3NlcnQodHlwZW9mIHByaW9yaXR5ID09PSAnbnVtYmVyJyk7XG4gIGlmIChwcmlvcml0eSA8PSBsb2cucHJpb3JpdHkpIHtcbiAgICBjb25zb2xlLmRlYnVnKC4uLmFyZ3MpO1xuICB9XG59XG5cbmNvbnN0IGNhY2hlID0ge307XG5cbmZ1bmN0aW9uIG9uY2UocHJpb3JpdHksIGFyZywgLi4uYXJncykge1xuICBpZiAoIWNhY2hlW2FyZ10pIHtcbiAgICBsb2cocHJpb3JpdHksIGFyZywgLi4uYXJncyk7XG4gIH1cbiAgY2FjaGVbYXJnXSA9IHRydWU7XG59XG5cbmxvZy5wcmlvcml0eSA9IDA7XG5sb2cubG9nID0gbG9nO1xubG9nLm9uY2UgPSBvbmNlO1xuXG4vLyBFeHBvc2UgdG8gYnJvd3NlclxuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gIHdpbmRvdy5kZWNrID0gd2luZG93LmRlY2sgfHwge2xvZ307XG59XG4iXX0=